(function(t){function e(e){for(var s,r,i=e[0],p=e[1],u=e[2],l=0,d=[];l<i.length;l++)r=i[l],n[r]&&d.push(n[r][0]),n[r]=0;for(s in p)Object.prototype.hasOwnProperty.call(p,s)&&(t[s]=p[s]);c&&c(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,i=1;i<a.length;i++){var p=a[i];0!==n[p]&&(s=!1)}s&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={index:0},o=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],p=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var c=p;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("64a9"),n=a.n(s);n.a},"0909":function(t,e,a){t.exports=a.p+"img/google-authenticator.1f695c42.png"},1595:function(t,e,a){t.exports=a.p+"img/entering-phone-number.b5d15e54.png"},1807:function(t){t.exports={buttons:{register:"Register",signin:"Sign In",signout:"Sign Out"},sourceCode:"Source Code",authPage:{title:{register:"Register a new account",signin:"Sign In your account"},inputs:{username:{placeholder:"Username"},code:{placeholder:"Your 6-digit code"},results:{notFilled:"Please fill out all fields",invalidCode:"Please enter 6-digit code correctly",invalidUsername:"Username length may be between 4 and 15 symbols",userExists:"User with same username already exists. Please type another username",notAuthed:"Authentication failed",e400:"Check your 6-digit code and try again"}},authTips:{auth:"Already have an account?",register:"Don't have an account?"}}}},3847:function(t,e,a){t.exports=a.p+"img/lastpass-authenticator.32b4dbc9.webp"},5698:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{name:"page-change",appear:"",mode:"out-in"},on:{"after-enter":t.onAllPagesMounted}},[a("router-view")],1),a("div",{attrs:{id:"language-button"}},[a("button",{staticClass:"transparent",attrs:{tabindex:"0"},on:{click:function(e){t.currentLang="en"===t.currentLang?"ru":"en"}}},[t._v(t._s("en"===t.currentLang?"ru":"en"))])])],1)},o=[],r=(a("6762"),a("2fdb"),a("4917"),a("7074")),i=a.n(r),p=a("fd77"),u=a.n(p),c=(a("a481"),a("ac4d"),a("8a81"),a("ac6a"),{rand:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.round(Math.random()*(e-t)+t)},onAllPagesMounted:function(){this.$nextTick(function(){var t=!0,e=!1,a=void 0;try{for(var s,n=document.getElementsByTagName("img")[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var o=s.value;o.setAttribute("draggable",!1)}}catch(d){e=!0,a=d}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}var r=!0,i=!1,p=void 0;try{for(var u,c=document.querySelectorAll('a[href^="http"]')[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var l=u.value;l.setAttribute("target","_blank")}}catch(d){i=!0,p=d}finally{try{r||null==c.return||c.return()}finally{if(i)throw p}}})},authRedirects:function(){var t=["account"],e=["auth","register"],a=this.db.get("user").value()&&!!this.db.get("user").value().token;a&&e.includes(this.$route.path.slice(1))&&this.$router.replace("/account"),!a&&t.includes(this.$route.path.slice(1))&&this.$router.replace("/auth")},zero:function(t){return(t<10?"0":"")+t}}),l=new u.a("db"),d=i()(l);d.defaults({user:{},lang:""}).write();var m={data:function(){return{currentLang:d.get("lang").value()||"en",baseURL:"https://api.awap.pw",db:d}},computed:{lang:function(){return a("d435")("./".concat(this.currentLang,".json"))}},watch:{$route:function(){c.onAllPagesMounted.call(this),c.authRedirects.call(this)},currentLang:function(t){d.set("lang",t).write()}},methods:{onAllPagesMounted:function(){c.onAllPagesMounted.call(this)}},mounted:function(){if(c.onAllPagesMounted.call(this),c.authRedirects.call(this),!d.get("lang").value()){var t=navigator.language&&navigator.language.match(/\w+/)[0];["en","ru"].includes(t)||(t="en"),d.set("lang",t).write()}}},h=m,v=(a("034f"),a("94fb"),a("2877")),g=Object(v["a"])(h,n,o,!1,null,null,null),f=g.exports,_=a("8c4f"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"homePage"}},[a("header",[t._m(0),a("div",{staticClass:"right"},[a("div",{staticClass:"buttons"},[a("router-link",{staticClass:"transparent",attrs:{to:"/register",tag:"button"}},[t._v(t._s(t.app.lang.buttons.register))]),a("router-link",{attrs:{to:"/auth",tag:"button"}},[t._v(t._s(t.app.lang.buttons.signin))])],1)])]),"en"===t.app.currentLang?a("main",[a("h2",[t._v("What is the AWAP Project?")]),t._m(1),a("p",[t._v("Some popular online services, messengers and so on use authorization without a password - authorization with the user's phone number. When user enters their phone number on site, the site sends an SMS with one-time code. User enters the code and becomes authorized.\n")]),t._m(2),a("p",[t._v("Authorization with SMS code is really better than using regular passwords. Attacks like bruteforce or fishing become useless. It's possible sign in stranger account only if it's owner wants it.\n")]),t._m(3),t._m(4),a("p",[t._v("When the user uses an app like Google Authenticator, it scans QR Code that generated by the site. The app starts generate one time codes every 30 seconds. You can replace passwords to one time codes on your site.\n")]),a("p",[t._v("You can do "),a("router-link",{attrs:{to:"/register"}},[t._v("test register")]),t._v(" on our site for testing how it works.")],1)]):t._e(),"ru"===t.app.currentLang?a("main",[a("h2",[t._v("Что за AWAP Project?")]),t._m(5),a("p",[t._v("Некоторые популярные онлайн-сервисы и мессенджеры используют авторизацию без пароля (например Telegram). Чтобы войти под своим аккаунтом, пользователь указывает номер своего телефона и ему приходит SMS с одноразовым паролем. Пользователь вводит код из SMS и входит на сайт.\n")]),t._m(6),a("p",[t._v("Такой способ и вправду гораздо лучше использования паролей. Применить атаки по типу брутфорса (перебора паролей) или фишинга (кражи пароля через поддельный сайт) уже не получится. Войти под чужим аккаунтом можно будет только тогда, когда его владелец сам этого захочет.\n")]),a("p",[t._v("Однако рассылать SMS с одноразовыми кодами слишком затратно для бюджетного сайта. Каждая SMS стоит около 2.5 ₽ и на авторизацию 1000 пользователей придется потратить 2500 руб (представьте сколько тратят банки и сайты с миллионными аудиториями). К тому же в некоторых ситуациях есть риск перехвата SMS оператором и, как следствие, компрометация аккаунта.\n")]),t._m(7),t._m(8),a("p",[t._v("Чтобы пользователь входил по коду из приложения, нужно сгенерировать специальный QR-код и попросить пользователя его отсканировать. После этого приложение сразу же начнёт генерировать коды, по которым человек сможет входить на сайт вместо пароля.\n")]),a("p",[t._v("Попробуйте это прямо сейчас! Пройдите "),a("router-link",{attrs:{to:"/register"}},[t._v("тестовую регистрацию")]),t._v(" на нашем сайте.")],1)]):t._e(),a("footer",[a("div",[t._v("Aleoheen © 2019")]),a("div",[a("div",[a("a",{attrs:{href:"https://github.com/aleoheen/awap-client"}},[t._v(t._s(t.app.lang.sourceCode))])])])])])},w=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"left"},[s("div",{staticClass:"logo"},[s("img",{attrs:{src:a("e347"),alt:"AWAP Project"}})]),s("h1",[t._v("AWAP Project")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("b",[t._v("AWAP Project")]),t._v(" is project which shows web developers how to make account system on their sites without using passwords. The "),a("i",[t._v("AWAP")]),t._v(" abbreviation means "),a("b",[t._v("Authorization Without A Password")]),t._v(".\n")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"images"},[s("figure",[s("img",{attrs:{src:a("1595"),alt:"Entering phone number"}}),s("figcaption",[t._v("Entering a phone number")])]),s("figure",[s("img",{attrs:{src:a("8761"),alt:"Recieving an SMS with one time code"}}),s("figcaption",[t._v("Receiving an SMS with one time code")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("However sending SMS from a site is very expensive and small budget web projects can't use this way. There is the solve of that problem! - You can let your users use Android/iOS applications for generating "),a("b",[t._v("One Time Passcodes")]),t._v(". For example: "),a("b",[t._v("Google Authenticator")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"images"},[s("figure",[s("img",{attrs:{src:a("0909"),alt:"Google Authenticator"}}),s("figcaption",[t._v("Google Authenticator")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("b",[t._v("AWAP Project")]),t._v(" это маленький интернет-проект, который нацелен на то, чтобы призвать веб-разработчиков отказаться от использования паролей на своих сайтах. Аббревиатура "),a("i",[t._v("AWAP")]),t._v(" раскладывается как "),a("b",[t._v("Authorization Without A Password")]),t._v(", что означает "),a("i",[t._v("Авторизация Без Пароля")]),t._v(".\n")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"images"},[s("figure",[s("img",{attrs:{src:a("1595"),alt:"Entering phone number"}}),s("figcaption",[t._v("Ввод номера телефона")])]),s("figure",[s("img",{attrs:{src:a("8761"),alt:"Recieving an SMS with one time code"}}),s("figcaption",[t._v("Получение SMS с кодом")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("Чтобы не разоряться на SMS и при этом отказаться от использования паролей, можно использовать авторизацию по коду из приложения (такие приложения уже есть и их не нужно создавать с нуля). Приложение генерирует 6-значный код каждые 30 секунд и может работать даже оффлайн. Одним из самых популярных приложений для генерации 6-значных кодов является "),a("b",[t._v("Google Authenticator")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"images"},[s("figure",[s("img",{attrs:{src:a("0909"),alt:"Google Authenticator"}}),s("figcaption",[t._v("Google Authenticator")])])])}],y={computed:{app:function(){return this.$parent}}},C=y,P=Object(v["a"])(C,b,w,!1,null,null,null),A=P.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"authPage"}},[s("div",[t._m(0),s("div",{staticClass:"page-title"},["auth"===t.mode?s("div",[t._v(t._s(t.app.lang.authPage.title.signin)+"\n")]):s("div",[t._v(t._s(t.app.lang.authPage.title.register)+"\n")])]),"auth"===t.mode?s("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("div",{staticClass:"form-field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.account.username,expression:"account.username"}],attrs:{type:"text",placeholder:t.app.lang.authPage.inputs.username.placeholder+"..."},domProps:{value:t.account.username},on:{input:[function(e){e.target.composing||t.$set(t.account,"username",e.target.value)},function(e){return e.preventDefault(),t.validateUsername(e)}]}})]),s("div",{staticClass:"form-field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.account.code,expression:"account.code"}],attrs:{type:"text",placeholder:t.app.lang.authPage.inputs.code.placeholder+"..."},domProps:{value:t.account.code},on:{input:[function(e){e.target.composing||t.$set(t.account,"code",e.target.value)},function(e){return e.preventDefault(),t.validateCode(e)}]}})]),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.form.result,expression:"form.result"}],staticClass:"form-result"},[s("div",[t._v(t._s(t.form.result))])])]),s("div",{staticClass:"form-button"},[s("button",[t._v(t._s(t.app.lang.buttons.signin))])])],1):s("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("div",{staticClass:"form-field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.account.username,expression:"account.username"}],attrs:{type:"text",placeholder:t.app.lang.authPage.inputs.username.placeholder+"...",readonly:t.account.otpCode===t.account.code},domProps:{value:t.account.username},on:{input:[function(e){e.target.composing||t.$set(t.account,"username",e.target.value)},function(e){t.account.token=""},function(e){return e.preventDefault(),t.validateUsername(e)}]}})]),t.account.token?s("div",{staticClass:"form-field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.account.code,expression:"account.code"}],attrs:{type:"text",placeholder:t.app.lang.authPage.inputs.code.placeholder+"..."},domProps:{value:t.account.code},on:{input:[function(e){e.target.composing||t.$set(t.account,"code",e.target.value)},function(e){return e.preventDefault(),t.validateCode(e)}]}})]):t._e(),s("transition",{attrs:{name:"form-result"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.form.result,expression:"form.result"}],staticClass:"form-result"},[s("div",[t._v(t._s(t.form.result))])])]),s("div",{staticClass:"form-button"},[s("button",[t._v(t._s(t.app.lang.buttons.register))])])],1),s("div",{staticClass:"auth-tip"},["auth"===t.mode?s("div",[t._v(t._s(t.app.lang.authPage.authTips.register)+" - "),s("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.mode="register"}}},[t._v(t._s(t.app.lang.buttons.register))])]):s("div",[t._v(t._s(t.app.lang.authPage.authTips.auth)+" - "),s("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.mode="auth"}}},[t._v(t._s(t.app.lang.buttons.signin))])])])]),s("transition",{attrs:{name:"fade"}},[t.popup.shown?s("div",{attrs:{id:"authPage-popup"}},["en"===t.app.currentLang?s("div",{attrs:{id:"authPage-popup-wrapper"}},[s("div",{attrs:{id:"authPage-popup-wrapper-header"}},[s("div",{attrs:{id:"authPage-popup-wrapper-header-title"}},[s("span",[t._v("What is the 6-digit code?")])]),s("div",{attrs:{id:"authPage-popup-wrapper-header-close"}},[s("button",{on:{click:function(e){t.popup.shown=!1}}})])]),s("div",{attrs:{id:"authPage-popup-wrapper-contents"}},[s("transition",{attrs:{name:"slide",mode:"out-in",appear:""}},[1===t.popup.step?s("div",{key:"step1"},[s("p",[t._v("You can generate your 6-digit code (instead of regular password) in appropriate application on your smartphone (example "),s("b",[t._v("Google Authenticator")]),t._v(")\n")]),s("div",{staticClass:"images"},[s("figure",{staticStyle:{"max-width":"300px"}},[s("img",{attrs:{src:a("0909"),alt:"Google Authenticator"}}),s("figcaption",[t._v("Google Authenticator")])])]),s("p",[t._v("Same applications generate a 6-digit code every 30 seconds. These apps can work offline and don't make any queries to the site.\n")]),s("hr"),s("p",{staticClass:"tip"},[t._v("You need download one application that can generate 6-digit codes.\n")]),s("div",{staticClass:"popup-otp-apps"},[s("div",{staticClass:"popup-otp-apps-item"},[s("div",{staticClass:"popup-otp-apps-item-image"},[s("img",{attrs:{src:a("6a43"),alt:"Google Auhenticator"}})]),s("div",{staticClass:"popup-otp-apps-item-name"},[s("span",[t._v("Google Authenticator")])]),s("div",{staticClass:"popup-otp-apps-item-link"},[s("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2"}},[s("img",{attrs:{src:a("b87a"),alt:"Download on Play Store"}})])]),s("div",{staticClass:"popup-otp-apps-item-link"},[s("a",{attrs:{href:"https://apps.apple.com/us/app/google-authenticator/id388497605"}},[s("img",{attrs:{src:a("7780"),alt:"Download on App store"}})])])]),s("div",{staticClass:"popup-otp-apps-item"},[s("div",{staticClass:"popup-otp-apps-item-image"},[s("img",{attrs:{src:a("918e"),alt:"Microsoft Auhenticator"}})]),s("div",{staticClass:"popup-otp-apps-item-name"},[s("span",[t._v("Microsoft Authenticator")])]),s("div",{staticClass:"popup-otp-apps-item-link"},[s("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.azure.authenticator"}},[s("img",{attrs:{src:a("b87a"),alt:"Download on Play Store"}})])]),s("div",{staticClass:"popup-otp-apps-item-link"},[s("a",{attrs:{href:"https://apps.apple.com/us/app/microsoft-authenticator/id983156458"}},[s("img",{attrs:{src:a("7780"),alt:"Download on App store"}})])])]),s("div",{staticClass:"popup-otp-apps-item"},[s("div",{staticClass:"popup-otp-apps-item-image"},[s("img",{attrs:{src:a("3847"),alt:"LastPass Auhenticator"}})]),s("div",{staticClass:"popup-otp-apps-item-name"},[s("span",[t._v("LastPass Authenticator")])]),s("div",{staticClass:"popup-otp-apps-item-link"},[s("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.lastpass.authenticator"}},[s("img",{attrs:{src:a("b87a"),alt:"Download on Play Store"}})])]),s("div",{staticClass:"popup-otp-apps-item-link"},[s("a",{attrs:{href:"https://apps.apple.com/us/app/lastpass-authenticator/id1079110004"}},[s("img",{attrs:{src:a("7780"),alt:"Download on App store"}})])])])]),s("p",{staticClass:"tip"},[t._v('After you\'ve installed any of these apps, click the "Next step" button\n')])]):t._e(),2===t.popup.step?s("div",{key:"step2"},[s("p",[t._v("Enter your username which you'll use on this site."),s("br"),t._v("We'll generate a QR Code by your username and you'll need to scan it.\n")]),s("div",{staticClass:"form-field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.account.username,expression:"account.username"}],attrs:{type:"text",placeholder:"Enter your username"},domProps:{value:t.account.username},on:{input:[function(e){e.target.composing||t.$set(t.account,"username",e.target.value)},function(e){return e.preventDefault(),t.validateUsername(e)}]}})]),s("transition",{attrs:{name:"form-result"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.form.result,expression:"form.result"}],staticClass:"form-result"},[s("div",[t._v(t._s(t.form.result))])])])],1):t._e(),3===t.popup.step?s("div",{key:"step3"},[s("p",{staticClass:"tip"},[t._v("Open your code-generating application and scan your QR Code\n")]),s("transition",{attrs:{name:"fade",appear:""}},[t.account.token?s("div",{staticClass:"qrcode"},[s("qrcode",{attrs:{value:t.account.OTPURI,options:{width:200,margin:0}}})],1):t._e()])],1):t._e()])],1),s("div",{attrs:{id:"authPage-popup-wrapper-footer"}},[s("transition",{attrs:{name:"fade"}},[1!==t.popup.step?s("div",[s("button",{staticClass:"gray",on:{click:t.prevStep}},[t._v("Prev step")])]):t._e()]),s("transition",{attrs:{name:"fade"}},[s("div",[s("button",{attrs:{disabled:2===t.popup.step&&t.account.username.length<4},on:{click:t.nextStep}},[t._v("Next step")])])])],1)]):t._e(),"ru"===t.app.currentLang?s("div",{attrs:{id:"authPage-popup-wrapper"}},[s("div",{attrs:{id:"authPage-popup-wrapper-header"}},[s("div",{attrs:{id:"authPage-popup-wrapper-header-title"}},[s("span",[t._v("Что за 6-значный код?")])]),s("div",{attrs:{id:"authPage-popup-wrapper-header-close"}},[s("button",{on:{click:function(e){t.popup.shown=!1}}})])]),s("div",{attrs:{id:"authPage-popup-wrapper-contents"}},[s("transition",{attrs:{name:"slide",mode:"out-in",appear:""}},[1===t.popup.step?s("div",{key:"step1"},[s("p",[t._v("Вы можете использовать генерируемые 6-значные коды вместо обычного пароля для входа на сайт. Для этого вам нужно скачать приложение для генерации этих кодов. Выглядит оно примерно так:\n")]),s("div",{staticClass:"images"},[s("figure",{staticStyle:{"max-width":"300px"}},[s("img",{attrs:{src:a("0909"),alt:"Google Authenticator"}}),s("figcaption",[t._v("Google Authenticator")])])]),s("p",[t._v("Такие приложения автоматически генерируют 6-значные коды каждые 30 секунд (на самом деле можно задавать другое время, но 30 секунд уже стало неким стандартом). Приложению при этом не нужно посылать запросы на сайт и оно может работать оффлайн.\n")]),s("hr"),s("p",{staticClass:"tip"},[t._v("Для генерации 6-значных кодов скачайте на свой смартфон любое из этих приложений\n")]),s("div",{staticClass:"popup-otp-apps"},[s("div",{staticClass:"popup-otp-apps-item"},[s("div",{staticClass:"popup-otp-apps-item-image"},[s("img",{attrs:{src:a("6a43"),alt:"Google Auhenticator"}})]),s("div",{staticClass:"popup-otp-apps-item-name"},[s("span",[t._v("Google Authenticator")])]),s("div",{staticClass:"popup-otp-apps-item-link"},[s("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2"}},[s("img",{attrs:{src:a("b87a"),alt:"Download on Play Store"}})])]),s("div",{staticClass:"popup-otp-apps-item-link"},[s("a",{attrs:{href:"https://apps.apple.com/us/app/google-authenticator/id388497605"}},[s("img",{attrs:{src:a("7780"),alt:"Download on App store"}})])])]),s("div",{staticClass:"popup-otp-apps-item"},[s("div",{staticClass:"popup-otp-apps-item-image"},[s("img",{attrs:{src:a("918e"),alt:"Microsoft Auhenticator"}})]),s("div",{staticClass:"popup-otp-apps-item-name"},[s("span",[t._v("Microsoft Authenticator")])]),s("div",{staticClass:"popup-otp-apps-item-link"},[s("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.azure.authenticator"}},[s("img",{attrs:{src:a("b87a"),alt:"Download on Play Store"}})])]),s("div",{staticClass:"popup-otp-apps-item-link"},[s("a",{attrs:{href:"https://apps.apple.com/us/app/microsoft-authenticator/id983156458"}},[s("img",{attrs:{src:a("7780"),alt:"Download on App store"}})])])]),s("div",{staticClass:"popup-otp-apps-item"},[s("div",{staticClass:"popup-otp-apps-item-image"},[s("img",{attrs:{src:a("3847"),alt:"LastPass Auhenticator"}})]),s("div",{staticClass:"popup-otp-apps-item-name"},[s("span",[t._v("LastPass Authenticator")])]),s("div",{staticClass:"popup-otp-apps-item-link"},[s("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.lastpass.authenticator"}},[s("img",{attrs:{src:a("b87a"),alt:"Download on Play Store"}})])]),s("div",{staticClass:"popup-otp-apps-item-link"},[s("a",{attrs:{href:"https://apps.apple.com/us/app/lastpass-authenticator/id1079110004"}},[s("img",{attrs:{src:a("7780"),alt:"Download on App store"}})])])])]),s("p",{staticClass:"tip"},[t._v('После того, как вы скачали и установили приложение, нажмите кнопку "Дальше"\n')])]):t._e(),2===t.popup.step?s("div",{key:"step2"},[s("p",[t._v("Введите имя пользователя, которое вы будете использовать для входа на сайт:\n")]),s("div",{staticClass:"form-field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.account.username,expression:"account.username"}],attrs:{type:"text",placeholder:"Введите ваш логин..."},domProps:{value:t.account.username},on:{input:[function(e){e.target.composing||t.$set(t.account,"username",e.target.value)},function(e){return e.preventDefault(),t.validateUsername(e)}]}})]),s("transition",{attrs:{name:"form-result"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.form.result,expression:"form.result"}],staticClass:"form-result"},[s("div",[t._v(t._s(t.form.result))])])])],1):t._e(),3===t.popup.step?s("div",{key:"step3"},[s("p",{staticClass:"tip"},[t._v("А теперь откройте приложение, которое вы установили на 1-ом шаге и найдите там скан QR-кода. Нашли? - Сканируйте:\n")]),s("transition",{attrs:{name:"fade",appear:""}},[t.account.token?s("div",{staticClass:"qrcode"},[s("qrcode",{attrs:{value:t.account.OTPURI,options:{width:200,margin:0}}})],1):t._e()])],1):t._e()])],1),s("div",{attrs:{id:"authPage-popup-wrapper-footer"}},[s("transition",{attrs:{name:"fade"}},[1!==t.popup.step?s("div",[s("button",{staticClass:"gray",on:{click:t.prevStep}},[t._v("Назад")])]):t._e()]),s("transition",{attrs:{name:"fade"}},[s("div",[s("button",{attrs:{disabled:2===t.popup.step&&t.account.username.length<4},on:{click:t.nextStep}},[t._v("Дальше")])])])],1)]):t._e()]):t._e()])],1)},k=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"profile-icon"},[s("img",{attrs:{src:a("afa4"),alt:"User"}})])}],S=a("bc3a"),D=a.n(S),$={data:function(){var t=this.$route.path.slice(1);return{mode:t,account:{username:"",code:"",token:"",OTPURI:""},form:{result:"",ready:!1},popup:{shown:"register"===t,step:1}}},computed:{app:function(){return this.$parent}},watch:{mode:function(t,e){this.$router.replace("/".concat("auth"===e?"register":"auth"))}},methods:{prevStep:function(){this.popup.step<=1||1!==this.popup.step&&--this.popup.step},nextStep:function(){var t=this;if(this.popup.step>=3&&(this.popup.shown=!1),2===this.popup.step)return D.a.get("".concat(this.app.baseURL,"/createToken"),{params:this.account}).then(function(e){t.account.token=e.data.token,t.account.OTPURI=e.data.OTPURI,++t.popup.step,t.form.result=""}).catch(function(e){t.form.result=E.apply(t,[e])});3!==this.popup.step&&++this.popup.step},validateUsername:function(t){t.target.maxLength=15,this.account.username=this.account.username.replace(/[^\w]$/gi,"")},validateCode:function(t){t.target.maxLength=6,this.account.code=this.account.code.replace(/[^\d]$/gi,"")},submit:function(t){var e=this,a=this.app.lang.authPage.inputs.results;return"register"!==this.mode||this.account.token?this.account.username&&this.account.code?/[\w]{4,15}/.test(this.account.username)?/[\d]{6}/.test(this.account.code)?(this.form.result="",void D.a["auth"===this.mode?"get":"post"]("".concat(this.app.baseURL,"/").concat(this.mode),"auth"===this.mode?{params:this.account}:this.account).then(function(t){e.form.result="",e.app.db.set("user.username",t.data.user.username).set("user.token",t.data.user.token).set("user.displayName",t.data.user.displayName).set("user.regTS",t.data.user.regTS).write(),e.$router.push("/account")}).catch(function(t){e.form.result=E.apply(e,[t])})):this.form.result=a.invalidCode:this.form.result=a.invalidUsername:this.form.result=a.notFilled:(this.form.result="",this.popup.step=1,void(this.popup.shown=!0))}},mounted:function(){}};function E(t){console.error(t.response||t.message);var e=this.app.lang.authPage.inputs.results;if(t.response)return 401===t.response.status?e.notAuthed:409===t.response.status?e.userExists:400===t.response.status?e.e400:t.response.data&&t.response.data.details.message||t.message}var M=$,T=Object(v["a"])(M,x,k,!1,null,null,null),O=T.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"accountPage"}},[a("header"),a("div",{attrs:{id:"accountPage-info"}},[t._m(0),"en"===t.app.currentLang?a("div",{staticClass:"wrapper"},[a("div",{staticClass:"welcome"},[t._v("Hi, "+t._s(t.user.displayName)+"!")]),a("div",{staticClass:"created"},[t._v("With us from "+t._s(t._f("toPrettyDate")(t.user.regTS)))]),a("p",[t._v("This is your account on AWAP! Then you can sign in your account with your 6-digit code, generated by your installed app.\n")]),t._m(1),a("hr"),a("p",[t._v("Please tell about AWAP your friends and other web developers. Support us!\n")]),a("hr"),a("div",[a("button",{staticClass:"gray",staticStyle:{width:"auto"},on:{click:t.logout}},[t._v("Log Out")])])]):t._e(),"ru"===t.app.currentLang?a("div",{staticClass:"wrapper"},[a("div",{staticClass:"welcome"},[t._v("Привет, "+t._s(t.user.displayName)+"!")]),a("div",{staticClass:"created"},[t._v("С нами с "+t._s(t._f("toPrettyDate")(t.user.regTS)))]),a("p",[t._v("Это ваш аккаунт в системе AWAP! Теперь вы можете входить на этот сайт при помощи вашего логина и 6-значного кода из приложения.\n")]),t._m(2),a("hr"),a("p",{staticClass:"tip"},[t._v("Вы можете поддержать разработчика проекта AWAP:\n")]),t._m(3),a("hr"),a("div",[a("button",{staticClass:"gray",staticStyle:{width:"auto"},on:{click:t.logout}},[t._v(t._s(t.app.lang.buttons.signout))])])]):t._e()])])},j=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"avatar"},[s("img",{attrs:{src:a("afa4"),alt:"User"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("If you're web developer, remove oldschool password system from your sites and replace it to generate codes. You can see out of our "),a("a",{attrs:{href:"https://github.com/aleoheen/awap-client"}},[t._v("Source Code")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("Если вы веб-разработчик, вы можете перевести все свои сайты на авторизацию без пароля. Для этого исследуйте "),a("a",{attrs:{href:"https://github.com/aleoheen/awap-client"}},[t._v("исходный код")]),t._v(" нашего проекта.\n")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("iframe",{attrs:{src:"https://money.yandex.ru/quickpay/shop-widget?writer=seller&targets=%D0%9F%D0%BE%D0%B6%D0%B5%D1%80%D1%82%D0%B2%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%83%20AWAP.pw&targets-hint=&default-sum=1000&button-text=14&payment-type-choice=on&comment=on&hint=&successURL=&quickpay=shop&account=410019999336983",width:"100%",height:"301",frameborder:"0",allowtransparency:"true",scrolling:"no"}})])}],L={data:function(){return{}},computed:{app:function(){return this.$parent},user:function(){return this.app.db.get("user").value()||this.$router.replace("/auth")}},methods:{logout:function(){this.app.db.unset("user").write(),this.$router.replace("/")}},filters:{toPrettyDate:function(t){var e=new Date(t);return"".concat(c.zero(e.getDate()),".").concat(c.zero(e.getMonth()+1),".").concat(c.zero(e.getFullYear())," ").concat(c.zero(e.getHours()),":").concat(c.zero(e.getMinutes()))}}},R=L,W=Object(v["a"])(R,U,j,!1,null,null,null),N=W.exports;s["a"].use(_["a"]);var G=new _["a"]({routes:[{path:"/",alias:"/home",name:"home",component:A},{path:"/auth",alias:"/register",name:"auth",component:O},{path:"/account",name:"account",component:N}]}),B=a("d56f");s["a"].component("qrcode",B["a"]),s["a"].config.productionTip=!1,new s["a"]({router:G,render:function(t){return t(f)}}).$mount("#app")},"64a9":function(t,e,a){},"6a43":function(t,e,a){t.exports=a.p+"img/google-authenticator.bfb9f32a.svg"},7780:function(t,e,a){t.exports=a.p+"img/app-store-badge.b3a8cb2e.svg"},8761:function(t,e,a){t.exports=a.p+"img/receive-one-time-code.36d55e3c.png"},"918e":function(t,e,a){t.exports=a.p+"img/microsoft-authenticator.ba688a4d.png"},"94fb":function(t,e,a){"use strict";var s=a("5698"),n=a.n(s);n.a},afa4:function(t,e,a){t.exports=a.p+"img/user.0e199d15.svg"},b87a:function(t,e,a){t.exports=a.p+"img/google-play-badge.c68e1c2f.svg"},d435:function(t,e,a){var s={"./en.json":"1807","./ru.json":"e8d2"};function n(t){var e=o(t);return a(e)}function o(t){var e=s[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}n.keys=function(){return Object.keys(s)},n.resolve=o,t.exports=n,n.id="d435"},e347:function(t,e,a){t.exports=a.p+"img/logo.41d24a57.svg"},e8d2:function(t){t.exports={buttons:{register:"Регистрация",signin:"Войти",signout:"Выйти"},sourceCode:"Исходный код",authPage:{title:{register:"Регистрация нового аккаунта",signin:"Войти в свой аккаунт"},inputs:{username:{placeholder:"Логин"},code:{placeholder:"6-значный код"},results:{notFilled:"Заполните все поля",invalidCode:"Введите 6-значный код правильно",invalidUsername:"Длина логина может быть от 4 до 15 символов",userExists:"Пользователь с таким логином уже есть. Вам нужно придумать другой",notAuthed:"Логин или код неверны",e400:"Проверьте правильность кода"}},authTips:{auth:"Уже регистрировались?",register:"Нет аккаунта?"}}}}});